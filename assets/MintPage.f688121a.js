import{b as n,s as p,X as f,Y as u,$ as b,r as l,a0 as T,g as y,h as w,a1 as g,i as C,k as N,P as x,a2 as M,a3 as h,j as i,n as d,a4 as A,a5 as j,B as v}from"./index.187397a2.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const m={transferPropContainer:"bg-gray-700 rounded-lg px-4 py-2 border border-gray-700 flex justify-between",transferPropInput:"bg-transparent placeholder:text-gray-300 outline-none w-full"};function I({onChange:t,disabled:e,className:a,placeholder:s="0.0",thousandSeparator:o=!1,...c}){return n("div",{className:p(a,m.transferPropContainer),children:n(f,{...c,placeholder:s,thousandSeparator:o,displayType:e?"text":"input",onValueChange:r=>t?.(r.value),className:m.transferPropInput})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};function P(t){const e=b(),a=l.exports.useMemo(()=>T.connect(t,e),[e.address]);return{contract:a,getBalance(){return e.getBalance(t)},mint(s){return a.submit.mint_coins(s)},transferTo(s,o={}){return a.submit.transfer_coins_to_output(s,u(a.id),u(e.address),o)}}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};function _(t){const e=P(g),a=y(),s=w(async c=>{const r=M(c.amount).toBigInt();await e.mint(r),await e.transferTo(r,{variableOutputs:1})},{onSuccess:()=>{t.onSuccess?.(),C.success("Token minted successfully!"),N(),a(x.swap)}});function o(c){s.mutate({amount:c})}return{...s,handleMint:o}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};function B(){const[t,e]=l.exports.useState(g),[a,s]=l.exports.useState(`${h}`),o=_({tokenId:t});return i(d,{className:"min-w-[auto] max-w-[400px]",children:[i(d.Title,{children:[n(A,{className:"text-primary-500"}),"Mint"]}),n("div",{className:"text-gray-300",children:"Mint new token types for testing purposes by adding the contract Id and amount below."}),i("div",{className:"faucetWidget--formRow",children:[n("label",{className:"faucetWidget--label",children:"Contract Id"}),n(j,{isReadOnly:!0,value:t,placeholder:"Type contract id",onChange:e})]}),i("div",{className:"faucetWidget--formRow",children:[n("label",{className:"faucetWidget--label",children:"Amount to mint"}),n(I,{className:"px-2",value:a,onChange:s,isAllowed:c=>(c.floatValue||0)<=h})]}),n(v,{size:"md",variant:"primary",isFull:!0,className:"mt-4",isLoading:o.isLoading,onPress:()=>o.handleMint(a),children:"Mint tokens"})]})}export{B as default};
