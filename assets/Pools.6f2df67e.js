import{A as N,r as l,H as $,I as B,J as I,_ as A,K as H,L as J,M as P,N as Q,Q as n,R as V,b as c,s as _,j as w,U as G,n as j,V as X,S as Z,g as L,B as D,P as M,W as ee,T as te}from"./index.c46161c3.js";import{P as oe}from"./PoolCurrentPosition.4b873124.js";import{u as ne,a as re}from"./useCoinMetadata.bb91b978.js";import{u as ae}from"./PreviewTable.d70e51e5.js";const[ie,U]=N("Collapsible"),[ce,k]=ie("Collapsible"),se=l.exports.forwardRef((e,t)=>{const{__scopeCollapsible:o,open:r,defaultOpen:a,disabled:i,onOpenChange:s,...m}=e,[g=!1,p]=$({prop:r,defaultProp:a,onChange:s});return l.exports.createElement(ce,{scope:o,disabled:i,contentId:B(),open:g,onOpenToggle:l.exports.useCallback(()=>p(h=>!h),[p])},l.exports.createElement(I.div,A({"data-state":S(g),"data-disabled":i?"":void 0},m,{ref:t})))}),le=l.exports.forwardRef((e,t)=>{const{__scopeCollapsible:o,...r}=e,a=k("CollapsibleTrigger",o);return l.exports.createElement(I.button,A({type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":S(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled},r,{ref:t,onClick:H(e.onClick,a.onOpenToggle)}))}),de=l.exports.forwardRef((e,t)=>{const{forceMount:o,...r}=e,a=k("CollapsibleContent",e.__scopeCollapsible);return l.exports.createElement(J,{present:o||a.open},({present:i})=>l.exports.createElement(pe,A({},r,{ref:t,present:i})))}),pe=l.exports.forwardRef((e,t)=>{const{__scopeCollapsible:o,present:r,children:a,...i}=e,s=k("CollapsibleContent",o),[m,g]=l.exports.useState(r),p=l.exports.useRef(null),h=P(t,p),x=l.exports.useRef(0),b=x.current,u=l.exports.useRef(0),C=u.current,d=s.open||m,y=l.exports.useRef(d),f=l.exports.useRef();return l.exports.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),Q(()=>{const v=p.current;if(v){f.current=f.current||{transitionDuration:v.style.transitionDuration,animationDuration:v.style.animationDuration,animationFillMode:v.style.animationFillMode},v.style.transitionDuration="0s",v.style.animationDuration="0s",v.style.animationFillMode="none";const R=v.getBoundingClientRect();x.current=R.height,u.current=R.width,y.current||(v.style.transitionDuration=f.current.transitionDuration,v.style.animationDuration=f.current.animationDuration,v.style.animationFillMode=f.current.animationFillMode),g(r)}},[s.open,r]),l.exports.createElement(I.div,A({"data-state":S(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!d},i,{ref:h,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style}}),d&&a)});function S(e){return e?"open":"closed"}const ue=se,fe=le,me=de;function he(e){const t=e+"CollectionProvider",[o,r]=N(t),[a,i]=o(t,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:u,children:C}=b,d=n.useRef(null),y=n.useRef(new Map).current;return n.createElement(a,{scope:u,itemMap:y,collectionRef:d},C)},m=e+"CollectionSlot",g=n.forwardRef((b,u)=>{const{scope:C,children:d}=b,y=i(m,C),f=P(u,y.collectionRef);return n.createElement(V,{ref:f},d)}),p=e+"CollectionItemSlot",h="data-radix-collection-item";return[{Provider:s,Slot:g,ItemSlot:n.forwardRef((b,u)=>{const{scope:C,children:d,...y}=b,f=n.useRef(null),v=P(u,f),R=i(p,C);return n.useEffect(()=>(R.itemMap.set(f,{ref:f,...y}),()=>{R.itemMap.delete(f)})),n.createElement(V,{[h]:"",ref:v},d)})},function(b){const u=i(e+"CollectionConsumer",b);return n.useCallback(()=>{const C=u.collectionRef.current;if(!C)return[];const d=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(u.itemMap.values()).sort((y,f)=>d.indexOf(y.ref.current)-d.indexOf(f.ref.current))},[u.collectionRef,u.itemMap])},r]}const ge=["Home","End","ArrowDown","ArrowUp"],[O,be,Ce]=he("Accordion"),[T,He]=N("Accordion",[Ce,U]),F=U(),K=n.forwardRef((e,t)=>{const{type:o,...r}=e,a=r,i=r;return n.createElement(O.Provider,{scope:e.__scopeAccordion},o==="multiple"?n.createElement(xe,A({},i,{ref:t})):n.createElement(Ae,A({},a,{ref:t})))});K.propTypes={type(e){const t=e.value||e.defaultValue;return e.type&&!["single","multiple"].includes(e.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):e.type==="multiple"&&typeof t=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):e.type==="single"&&Array.isArray(t)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[W,ve]=T("Accordion"),[Y,ye]=T("Accordion",{collapsible:!1}),Ae=n.forwardRef((e,t)=>{const{value:o,defaultValue:r,onValueChange:a=()=>{},collapsible:i=!1,...s}=e,[m,g]=$({prop:o,defaultProp:r,onChange:a});return n.createElement(W,{scope:e.__scopeAccordion,value:m?[m]:[],onItemOpen:g,onItemClose:n.useCallback(()=>i&&g(""),[i,g])},n.createElement(Y,{scope:e.__scopeAccordion,collapsible:i},n.createElement(z,A({},s,{ref:t}))))}),xe=n.forwardRef((e,t)=>{const{value:o,defaultValue:r,onValueChange:a=()=>{},...i}=e,[s=[],m]=$({prop:o,defaultProp:r,onChange:a}),g=n.useCallback(h=>m((x=[])=>[...x,h]),[m]),p=n.useCallback(h=>m((x=[])=>x.filter(b=>b!==h)),[m]);return n.createElement(W,{scope:e.__scopeAccordion,value:s,onItemOpen:g,onItemClose:p},n.createElement(Y,{scope:e.__scopeAccordion,collapsible:!0},n.createElement(z,A({},i,{ref:t}))))}),[we,Ee]=T("Accordion"),z=n.forwardRef((e,t)=>{const{__scopeAccordion:o,disabled:r,...a}=e,i=n.useRef(null),s=P(i,t),m=be(o),g=H(e.onKeyDown,p=>{var h;if(!ge.includes(p.key))return;const x=p.target,b=m().filter(y=>{var f;return!((f=y.ref.current)!==null&&f!==void 0&&f.disabled)}),u=b.findIndex(y=>y.ref.current===x),C=b.length;if(u===-1)return;p.preventDefault();let d=u;switch(p.key){case"Home":d=0;break;case"End":d=C-1;break;case"ArrowDown":d=u+1;break;case"ArrowUp":d=u-1,d<0&&(d=C-1)}(h=b[d%C].ref.current)===null||h===void 0||h.focus()});return n.createElement(we,{scope:o,disabled:r},n.createElement(O.Slot,{scope:o},n.createElement(I.div,A({},a,{ref:s,onKeyDown:r?void 0:g}))))}),[Re,q]=T("AccordionItem"),Ie=n.forwardRef((e,t)=>{const{__scopeAccordion:o,value:r,...a}=e,i=Ee("AccordionItem",o),s=ve("AccordionItem",o),m=F(o),g=B(),p=r&&s.value.includes(r)||!1,h=i.disabled||e.disabled;return n.createElement(Re,{scope:o,open:p,disabled:h,triggerId:g},n.createElement(ue,A({"data-state":p?"open":"closed"},m,a,{ref:t,disabled:h,open:p,onOpenChange:x=>{x?s.onItemOpen(r):s.onItemClose(r)}})))}),_e=n.forwardRef((e,t)=>{const{__scopeAccordion:o,...r}=e,a=q("AccordionHeader",o);return n.createElement(I.h3,A({"data-state":(i=a.open,i?"open":"closed"),"data-disabled":a.disabled?"":void 0},r,{ref:t}));var i}),Pe=n.forwardRef((e,t)=>{const{__scopeAccordion:o,...r}=e,a=q("AccordionTrigger",o),i=ye("AccordionTrigger",o),s=F(o);return n.createElement(O.ItemSlot,{scope:o},n.createElement(fe,A({"aria-disabled":a.open&&!i.collapsible||void 0,id:a.triggerId},s,r,{ref:t})))}),Te=n.forwardRef((e,t)=>{const{__scopeAccordion:o,...r}=e,a=q("AccordionContent",o),i=F(o);return n.createElement(me,A({role:"region","aria-labelledby":a.triggerId},i,r,{ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}}))}),De=K;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const E=({className:e,...t})=>c(De,{...t,className:_("accordion--root",e)}),Me=l.exports.forwardRef(({className:e,...t},o)=>c(Ie,{...t,ref:o,className:_("accordion--item",e)})),Ne=l.exports.forwardRef(({children:e,className:t,...o},r)=>c(_e,{className:"accordion--header",children:w(Pe,{...o,ref:r,className:_("accordion--trigger",t),children:[e,c(G,{"aria-hidden":!0,className:"accordion--icon"})]})})),$e=l.exports.forwardRef(({children:e,className:t,...o},r)=>c(Te,{...o,ref:r,className:_("accordion--content",t),children:c("div",{children:e})}));E.Item=Me;E.Trigger=Ne;E.Content=$e;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ke={button:"relative font-semibold text-xs"},Se=()=>{const e=L();return c("div",{className:"flex items-center gap-4",children:c(D,{size:"sm",variant:"primary",onPress:()=>e(`../${M["pool.addLiquidity"]}`),className:_(ke.button),children:"Add Liquidity"})})};function Oe(){return w("p",{className:"flex items-center gap-2 text-gray-300",children:[c(ee,{}),"You may have no open positions"]})}function Fe(){const e=L(),{coinMetaData:t}=re({symbol:"ETH/DAI"}),o=t?.pairOf?.[0],r=t?.pairOf?.[1];return w(E.Item,{value:"item-1",children:[c(E.Trigger,{children:w("div",{className:"flex items-center",children:[c(te,{coinFrom:o,coinTo:r}),c("div",{className:"ml-2",children:"ETH/DAI"})]})}),w(E.Content,{children:[c(oe,{}),w("div",{className:"flex items-center justify-between gap-2 mt-3",children:[c(D,{variant:"base",isFull:!0,onPress:()=>e(`../${M["pool.addLiquidity"]}`),children:"Add liquidity"}),c(D,{variant:"base",isFull:!0,onPress:()=>e(`../${M["pool.removeLiquidity"]}`),children:"Remove liquidity"})]})]})]})}function Le(){const{isLoading:e}=ae(),{hasPositions:t}=ne();return w(j,{children:[w(j.Title,{elementRight:c(Se,{}),children:[c(X,{className:"text-primary-500"}),"Pool"]}),c("h3",{className:"pb-1 mb-3 mt-5 text-gray-100 border-b border-dashed border-gray-600",children:"Your liquidity positions"}),e&&c(Z,{}),Boolean(!e&&!t)&&c(Oe,{}),Boolean(!e&&t)&&c(E,{type:"single",defaultValue:"item-1",collapsible:!0,children:c(Fe,{})})]})}export{Le as default};
