"use strict";(self.webpackChunkswayswap_demo=self.webpackChunkswayswap_demo||[]).push([[845],{9909:function(e,n,s){s.d(n,{_:function(){return G},M:function(){return $}});var t=s(1413),a=s(885),r=s(4925),i=s(612),l=s(3580),o=s(2791),c=s(948),u=s(9478),d=s(3853),f=s(5479),m=s(6231),x=s.n(m),v=s(3426),h=s(401),p=s(1694),g=s.n(p),y=s(3599),j=s(184),b=["className"],N="appearance-none w-full rounded-md bg-gray-700 px-4 py-2 focus-ring text-gray-100",w=(0,o.forwardRef)((function(e,n){var s=e.className,a=(0,r.Z)(e,b),i=(0,o.useRef)(null),l=(0,h.E)(a,i).inputProps;return(0,j.jsx)("input",(0,t.Z)({ref:(0,y.Z)([i,n]),className:g()(s,N)},l))})),Z=s(2982),I=s(7965),B=s(6367),C=s(686),P=["className","onAction","focusOnMount"];function A(e){var n=e.item,s=e.state,a=e.onAction,r=e.className,i=(0,o.useRef)(null),l=s.disabledKeys.has(n.key),c=s.selectionManager.focusedKey===n.key,u=(0,I.iX)({key:n.key,isDisabled:l,onAction:a},s,i).menuItemProps;return(0,j.jsx)("li",(0,t.Z)((0,t.Z)({},u),{},{ref:i,className:r,"data-focused":c,children:n.rendered}))}var S=function(e){var n=e.className,s=e.onAction,a=e.focusOnMount,i=(0,r.Z)(e,P),l=(0,B.D)((0,t.Z)((0,t.Z)({},i),{},{selectionMode:"none"})),c=(0,o.useRef)(null),u=(0,I.H9)(i,l,c).menuProps;return(0,o.useEffect)((function(){var e;a&&(null===(e=c.current)||void 0===e||e.focus())}),[]),(0,j.jsx)("ul",(0,t.Z)((0,t.Z)({},u),{},{ref:c,className:n,children:(0,Z.Z)(l.collection).map((function(e){return(0,j.jsx)(A,{className:e.props.className,item:e,state:l,onAction:s},e.key)}))}))},k=C.ck;S.Item=k;var M="py-2 px-6 flex items-center gap-3 border-t border-gray-700\n  hover:bg-gray-700/50 hover:cursor-pointer focus-ring",R="px-6 py-4 border-t border-gray-700";function O(e){var n=e.onSelect,s=(0,o.useState)(""),t=(0,a.Z)(s,2),r=t[0],i=t[1];var l=f.Z.filter((function(e){var n;return Boolean(r.length)?null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(r.toLocaleLowerCase()):e})),c=Boolean(l.length);return(0,j.jsxs)("div",{children:[(0,j.jsxs)("header",{className:"py-4 px-6 pb-5",children:[(0,j.jsx)("h2",{className:"text-gray-50 text-lg mb-3",children:"Select a token"}),(0,j.jsx)(w,{type:"text",placeholder:"Search by name...",value:r,onChange:i})]}),c?(0,j.jsx)(S,{onAction:function(e){return null===n||void 0===n?void 0:n(e)},className:"pb-2",focusOnMount:!0,children:l.map((function(e){return(0,j.jsxs)(S.Item,{className:M,children:[(0,j.jsx)("img",{className:"rounded-full border-none ml-1",src:"/".concat(x()("/swayswap",e.img)),alt:e.name,height:30,width:30}),(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsx)("div",{className:"text-gray-50",children:e.symbol}),(0,j.jsx)("div",{className:"text-sm",children:e.name})]})]},e.assetId)}))}):(0,j.jsx)("div",{className:R,children:"\ud83d\ude22 Oops, no token found!"})]})}var T=s(4243),z="flex1";function E(e){var n=e.value,s=(e.onChange,e.isReadOnly),r=(0,o.useState)(null),i=(0,a.Z)(r,2),l=i[0],c=i[1],u=(0,T.E)();return(0,o.useEffect)((function(){if(!n)return c(null);c(n)}),[n]),(0,j.jsxs)("div",{className:z,children:[(0,j.jsxs)(v.z,(0,t.Z)((0,t.Z)({},u.openButtonProps),{},{size:"md",className:"coin-selector",isDisabled:s,children:[l&&l.img&&(0,j.jsx)("img",{className:"rounded-full border-none ml-1",src:"/".concat(x()("/swayswap",l.img)),alt:l.name,height:20,width:20}),(0,j.jsx)("div",{className:"ml-2",children:null===l||void 0===l?void 0:l.name}),!s&&(0,j.jsx)(d.bTu,{className:"text-gray-500"})]})),(0,j.jsx)(T.V,(0,t.Z)((0,t.Z)({},u.dialogProps),{},{children:(0,j.jsx)(T.V.Content,{children:(0,j.jsx)(O,{onSelect:function(e){u.close(),c(f.Z.find((function(n){return n.assetId===e})))}})})}))]})}var F=s(1933),_=s(3246);var D=["amount","onChange","isReadOnly","showBalance","coin","gasFee","onInput"],L="flex bg-gray-700 rounded-2xl p-2 border border-gray-700",W="mx-2 h-10 bg-transparent placeholder:text-gray-300 outline-none text-xl flex items-center",U="flex flex-1 flex-col items-end",V="text-xs py-0 px-1 h-auto bg-primary-800/60 text-primary-500 hover:bg-primary-800",H=function(e){if(""!==e){var n=function(e){return"."===e?"0.":e}(e);return(0,l.parseUnits)(n,u.cS).toBigInt()}return(0,i.Gh)(0)},J=function(e){return null!=e?(0,l.formatUnits)(e,u.cS):e?void 0:""};function $(e){var n=e.amount,s=e.onChange,i=e.isReadOnly,l=e.showBalance,c=void 0===l||l,u=e.coin,d=e.gasFee,f=e.onInput,m=(0,r.Z)(e,D),x=(0,o.useState)(null),v=(0,a.Z)(x,2),h=v[0],p=v[1],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,_.Os)();return(0,F.useQuery)("AssetsPage-balances",(function(){return n.getBalances()}),e)}({enabled:c}),y=g.data,j=null===y||void 0===y?void 0:y.find((function(e){return e.assetId===(null===u||void 0===u?void 0:u.assetId)}));function b(){var e=(null===j||void 0===j?void 0:j.amount)||BigInt(0);return e>BigInt(0)?e-(d||BigInt(0)):e}return(0,o.useEffect)((function(){null!=n&&p(n)}),[n]),{amount:h,formatted:J(h),setAmount:p,getInputProps:function(){return(0,t.Z)((0,t.Z)({},m),{},{coin:u,isReadOnly:i,value:J(h),displayType:i?"text":"input",onInput:f,onChange:function(e){if(!i){var n=""!==e?H(e):null;"function"===typeof s?s(n):p(n)}},isAllowed:function(e){var n=e.value;return H(n)<=0x10000000000000000},setMaxBalance:function(){null===f||void 0===f||f(),p(b())},balance:J((null===j||void 0===j?void 0:j.amount)||BigInt(0)),showBalance:c,showMaxButton:c})},hasEnoughBalance:b()>=(h||BigInt(0))}}var G=(0,o.forwardRef)((function(e,n){var s=e.value,t=e.displayType,r=e.onChange,i=e.coin,l=e.isAllowed,d=e.onChangeCoin,f=e.onInput,m=e.isReadOnly,x=e.coinSelectorDisabled,h=e.showMaxButton,p=e.showBalance,g=e.setMaxBalance,y=e.balance,b=e.autoFocus,N=(0,o.useState)(s),w=(0,a.Z)(N,2),Z=w[0],I=w[1];return(0,o.useEffect)((function(){s&&I(s)}),[s]),(0,j.jsxs)("div",{className:L,children:[(0,j.jsx)(c.Z,{autoFocus:b,getInputRef:n,allowNegative:!1,defaultValue:s,value:Z,displayType:t,isAllowed:l,onChange:function(e){null===r||void 0===r||r(e.target.value),I(e.target.value)},decimalScale:u.cS,placeholder:"0",className:W,thousandSeparator:!1,onInput:f}),(0,j.jsxs)("div",{className:U,children:[(0,j.jsx)(E,{value:i,onChange:d,isReadOnly:m||x}),(p||h)&&(0,j.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[p&&(0,j.jsxs)("div",{className:"text-xs text-gray-400",children:["Balance: ",y]}),h&&(0,j.jsx)(v.z,{size:"sm",onPress:g,className:V,variant:"ghost",children:"Max"})]})]})]})}))},629:function(e,n,s){s.d(n,{r:function(){return d}});var t=s(1413),a=s(4925),r=s(7586),i=s(2791),l=s(1694),o=s.n(l),c=s(184),u=["href","isExternal","className","children"];function d(e){var n=e.href,s=e.isExternal,l=e.className,d=e.children,f=(0,a.Z)(e,u),m=(0,i.useRef)(null),x=(0,r.U)((0,t.Z)((0,t.Z)({},f),{},{elementType:"a"}),m),v=x.buttonProps,h=x.isPressed;return(0,c.jsx)("a",(0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},v),n&&{href:n}),{},{ref:m,className:o()(l,"link"),"data-pressed":h},s&&{target:"_blank",rel:"noopener noreferrer"}),{},{children:d}))}},8957:function(e,n,s){s.d(n,{J:function(){return d}});var t=s(1694),a=s.n(t),r=s(2791),i=s(184),l="border border-gray-700 border-b-0",o="w-screen flex flex-1 items-center justify-center pb-14",c="bg-gray-800 w-[30rem] rounded-2xl py-4 m-2",u="px-5 flex justify-between text-xl",d=function(e){var n,s,t=e.children,u=null===(n=r.Children.toArray(t))||void 0===n?void 0:n.find((function(e){var n;return"PageTitle"===(null===(n=e.type)||void 0===n?void 0:n.id)})),d=null===(s=r.Children.toArray(t))||void 0===s?void 0:s.filter((function(e){var n;return"PageTitle"!==(null===(n=e.type)||void 0===n?void 0:n.id)}));return(0,i.jsx)("div",{className:o,children:(0,i.jsxs)("div",{className:c,children:[u,(0,i.jsx)("div",{className:a()(l,"my-4")}),(0,i.jsx)("div",{className:"px-5 pb-2",children:d})]})})},f=function(e){var n=e.children,s=e.elementRight;return(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)("h2",{className:"flex items-center gap-2",children:n}),s]})};f.id="PageTitle",d.Title=f},9385:function(e,n,s){s.d(n,{$:function(){return a}});var t=s(184);function a(){return(0,t.jsxs)("svg",{className:"-ml-1 h-5 w-5 animate-spin text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},5479:function(e,n,s){var t=s(9478),a=[{name:"Ether",symbol:"ETH",assetId:"0x0000000000000000000000000000000000000000000000000000000000000000",img:"/icons/eth.svg"},{name:"DAI",symbol:"DAI",assetId:t.Bb,img:"/icons/dai.svg"},{name:"Sway",symbol:"SWAY",assetId:t.p_,img:"/icons/sway.svg"}];n.Z=a},5442:function(e,n,s){s.d(n,{_:function(){return a},x:function(){return t}});var t=function(e){return{value:e}},a=function(e){return new Promise((function(n){return setTimeout(n,e)}))}},3845:function(e,n,s){s.r(n),s.d(n,{default:function(){return k}});var t=s(5861),a=s(7757),r=s.n(a),i=s(6140),l=s(1933),o=s(3246),c=s(9385),u=s(1413),d=s(9909),f=s(184);function m(e){var n=e.coin,s=(0,d.M)({coin:n,amount:n.amount,isReadOnly:!0});return(0,f.jsx)(d._,(0,u.Z)((0,u.Z)({},s.getInputProps()),{},{showBalance:!1,showMaxButton:!1}))}var x=s(6355),v=s(3504),h=s(33),p=s.n(h),g=s(9478),y=s(7692),j=s(6861),b=s(3426),N=s(5442);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.bp)(),s=n.faucet;return(0,l.useMutation)((0,t.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.next=4,(0,N._)(1e3);case 4:case"end":return e.stop()}}),e)}))),e)}var Z=s(8957);function I(e){var n=e.children,s=e.onFaucetAdded,t=(0,o.Os)(),a=w({onSuccess:function(){i.ZP.success("Faucet added successfully!"),null===s||void 0===s||s()}}),r=t&&(0,f.jsx)("div",{className:"flex items-center gap-3",children:g.b1?(0,f.jsx)(v.rU,{to:j.i.faucet,children:(0,f.jsx)(x.Tih,{})}):(0,f.jsx)(f.Fragment,{children:a.isLoading?(0,f.jsx)("div",{className:"flex justify-center rounded-xl p-1",children:(0,f.jsx)(c.$,{})}):(0,f.jsx)(b.z,{variant:"ghost",onPress:function(){return a.mutate()},children:(0,f.jsx)(x.Tih,{size:"1.2rem"})})})});return(0,f.jsxs)(Z.J,{children:[(0,f.jsxs)(Z.J.Title,{elementRight:r,children:[(0,f.jsxs)("div",{className:"flex items-center gap-2 mr-2",children:[(0,f.jsx)(y.cf2,{className:"text-primary-500"}),"Wallet"]}),t&&(0,f.jsxs)(b.z,{"aria-label":"Copy your wallet address",onPress:function(){p().copy(t.address),(0,i.ZP)("Address copied",{icon:"\u2728"})},children:[(0,f.jsxs)("span",{className:"text-gray-100",children:[null===t||void 0===t?void 0:t.address.slice(0,4),"...",null===t||void 0===t?void 0:t.address.slice(-4)]}),(0,f.jsx)(x.Dup,{size:"1em"})]})]}),n]})}var B=s(612),C=s(5479);function P(){var e=(0,o.Os)(),n=(0,l.useQuery)("AssetsPage-balances",(function(){return null===e||void 0===e?void 0:e.getBalances()})),s=n.isLoading,t=n.data,a=n.refetch,r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var n=C.Z.find((function(n){return n.assetId===e.assetId}));return{name:(null===n||void 0===n?void 0:n.name)||"404",img:(null===n||void 0===n?void 0:n.img)||"/icons/other.svg",assetId:e.assetId,amount:(0,B.Gh)(e.amount||0)}}))}(t);return{coins:r,refetch:a,isLoading:s}}var A=s(629),S="flex items-center justify-between font-semibold text-xl mb-2";function k(){var e=(0,o.Os)(),n=(0,o.bp)().createWallet,s=P(),a=s.coins,u=s.isLoading,d=s.refetch,x=w({onSuccess:function(){d()}}),v=(0,l.useMutation)((0,t.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n());case 1:case"end":return e.stop()}}),e)}))),{onSuccess:function(){i.ZP.success("Wallet created successfully!")}});return e?(0,f.jsxs)(I,{onFaucetAdded:d,children:[(0,f.jsx)("div",{className:S,children:"Assets"}),u&&(0,f.jsx)("div",{className:"flex justify-start rounded-xl px-2 pt-2",children:(0,f.jsx)(c.$,{})}),a.map((function(e){return(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsx)(m,{coin:e},e.assetId)},e.assetId)})),!u&&!Boolean(a.length)&&(0,f.jsxs)("div",{className:"text-gray-500 pb-1",children:["There' no asset added yet.",(0,f.jsx)("br",{}),(0,f.jsx)(A.r,{onPress:function(){return x.mutate()},children:"Click here"})," to generate a new asset."]})]}):(0,f.jsx)(I,{children:(0,f.jsxs)("div",{className:"flex flex-col justify-center text-gray-400 prose text-center",children:[(0,f.jsx)("h3",{className:"text-gray-300 mb-0",children:"\u26a1\ufe0f Welcome SwaySwap"}),(0,f.jsxs)("p",{children:["Seems you don' have any wallet yet",(0,f.jsx)("br",{})," Click bellow to generate one"]}),(0,f.jsx)("div",{children:(0,f.jsx)(b.z,{variant:"primary",size:"lg",onPress:function(){v.mutate()},children:"Connect Wallet"})})]})})}}}]);
//# sourceMappingURL=845.7ab5b053.chunk.js.map