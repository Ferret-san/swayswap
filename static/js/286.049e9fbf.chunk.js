"use strict";(self.webpackChunkswayswap_demo=self.webpackChunkswayswap_demo||[]).push([[286],{2584:function(e,n,t){t.d(n,{_:function(){return C}});var r=t(885),s=t(7283),i=t(1694),a=t.n(i),o=t(3580),l=t(2791),c=t(948),u=t(9478),d=t(6231),m=t.n(d),f=t(184),x="/swayswap",h="bg-[#20242A] rounded-2xl p-4 text-3xl border border-[#20242A] \n      flex justify-between",v="bg-transparent placeholder:text-[#B2B9D2] outline-none w-full text-2xl",g="flex1",p="absolute w-full mt-2 bg-[#191B1F] divide-gray-100 \n      rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10",j="flex justify-around rounded-md w-full px-2 py-2 text-sm cursor-pointer",b="w-full h-min flex justify-between items-center bg-[#2D2F36] \n      rounded-2xl text-xl font-medium p-2 mt-[-0.2rem] focus:outline-none",w="mx-2",y="px-1 py-1";function N(e){var n=e.value,t=e.coins,i=e.onChange,o=(0,l.useState)(null),c=(0,r.Z)(o,2),u=c[0],d=c[1],h=t&&t.length>1;(0,l.useEffect)((function(){if(!n)return d(null);d(n)}),[n]);var v=(0,l.useCallback)((function(e){d(e),null===i||void 0===i||i(e)}),[d,i]);return(0,f.jsx)("div",{className:g,children:(0,f.jsxs)(s.v2,{as:"div",className:"relative inline-block text-left",children:[(0,f.jsx)("div",{children:(0,f.jsx)(s.v2.Button,{className:a()({"cursor-default":!h}),children:(0,f.jsxs)("div",{className:a()(b,{"hover:bg-opacity-30":h}),children:[u&&u.img&&(0,f.jsx)("img",{className:"rounded-full border-none",src:m()(x,u.img),alt:"eth",height:24,width:24}),(0,f.jsx)("div",{className:w,children:null===u||void 0===u?void 0:u.name})]})})}),h&&(0,f.jsx)(s.uT,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,f.jsx)(s.v2.Items,{className:p,children:(0,f.jsx)("div",{className:y,children:t.map((function(e){return(0,f.jsx)(s.v2.Item,{children:function(n){var t=n.active;return(0,f.jsxs)("div",{className:a()(j,{"bg-[#2D2F36] text-white":t,"text-white":!t}),onClick:function(){return v(e)},children:[e&&e.img&&(0,f.jsx)("div",{className:"flex flex-wrap justify-center",children:(0,f.jsx)("div",{className:"w-6/12 px-4 sm:w-4/12",children:(0,f.jsx)("img",{className:"h-auto max-w-full rounded border-none align-middle shadow-lg",src:m()(x,e.img),alt:"eth",height:24,width:24})})}),(0,f.jsx)("div",{className:w,children:null===e||void 0===e?void 0:e.name})]})}},e.assetId)}))})})})]})})}function C(e){var n=e.amount,t=e.coin,r=e.coins,s=e.disabled,i=e.onChangeAmount,a=e.onChangeCoin,l=e.onInput;return(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("div",{className:"flex-1",children:(0,f.jsx)(c.Z,{placeholder:"0",decimalScale:u.cS,value:n&&(0,o.formatUnits)(n,u.cS),displayType:s?"text":"input",onValueChange:function(e){return null===i||void 0===i?void 0:i(""!==e.value?(0,o.parseUnits)(e.value,u.cS):null)},className:v,thousandSeparator:!1,onInput:l})}),(0,f.jsx)(N,{coins:r,value:t,onChange:a})]})}},9385:function(e,n,t){t.d(n,{$:function(){return s}});var r=t(184);function s(){return(0,r.jsxs)("svg",{className:"-ml-1 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},5479:function(e,n,t){var r=t(9478),s=[{name:"ETH",assetId:"0x0000000000000000000000000000000000000000000000000000000000000000",img:"/icons/eth.svg"},{name:"DAI",assetId:r.Bb,img:"/icons/dai.svg"},{name:"SWAY",assetId:r.p_,img:"/icons/sway.svg"}];n.Z=s},286:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(5861),s=t(885),i=t(7757),a=t.n(i),o=t(1694),l=t.n(o),c=t(11),u=t(2791),d=t(7425),m=t(3246),f=t(5479),x=t(2584),h=t(9385),v=t(6871),g=t(6861),p=t(3580),j=t(9478),b=t(1933),w=t(184),y="w-screen flex flex-1 items-center justify-center mb-14",N="bg-[#191B1F] w-[30rem] rounded-2xl p-4 m-2",C="px-2 flex items-center justify-between font-semibold text-xl",k="bg-[#58c09b] my-2 rounded-2xl py-6 px-8 text-xl font-semibold flex items-center\n    justify-center cursor-pointer border border-[#58c09b] hover:border-[#234169] mt-8";function S(e){var n=e.loading,t=e.step,r=e.steps;return(0,w.jsx)("ul",{className:"w-full rounded-lg border border-[#2b3039] text-gray-900",children:r.map((function(e,s){return(0,w.jsxs)("li",{className:l()("space-between flex w-full items-center border-b border-[#2b3039] px-6 py-2 text-white",{"rounded-t-lg":0===s,"bg-[#58c09a]":t===s&&n,"rounded-b-lg":s===r.length}),children:[(0,w.jsx)("div",{className:"flex-1",children:e}),t===s&&n&&(0,w.jsx)(h.$,{}),t>s&&(0,w.jsx)(d.xuy,{})]},s)}))})}function I(){var e=(0,m.cq)(),n=(0,v.s0)(),t=function(e){return f.Z.filter((function(n){var t=n.assetId;return!e.find((function(e){return e.assetId===t}))}))},i=(0,u.useState)([f.Z[0],f.Z[1]]),o=(0,s.Z)(i,2),l=(0,s.Z)(o[0],2),d=l[0],h=l[1],I=o[1],_=(0,u.useState)(null),A=(0,s.Z)(_,2),Z=A[0],F=A[1],D=(0,u.useState)(null),$=(0,s.Z)(D,2),T=$[0],B=$[1],E=(0,u.useState)(0),q=(0,s.Z)(E,2),H=q[0],O=q[1],P=(0,b.useQuery)("PoolPage-poolInfo",(function(){return e.callStatic.get_info()})).data,U=(0,b.useMutation)((0,r.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Z){n.next=2;break}throw new Error('"fromAmount" is required');case 2:if(T){n.next=4;break}throw new Error('"toAmount" is required');case 4:return n.next=6,e.functions.deposit({forward:[Z,d.assetId]});case 6:return O((function(e){return e+1})),n.next=9,e.functions.deposit({forward:[T,h.assetId]});case 9:return O((function(e){return e+1})),n.next=12,e.functions.add_liquidity(1,T,1e3,{variableOutputs:1});case 12:O((function(e){return e+1}));case 13:case"end":return n.stop()}}),n)}))),{onSuccess:function(){n(g.i.wallet)},onSettled:function(){O(0)}});return(0,w.jsx)("div",{className:y,children:(0,w.jsxs)("div",{className:N,children:[(0,w.jsx)("div",{className:C,children:(0,w.jsx)("h1",{children:"Pool"})}),U.isLoading?(0,w.jsx)("div",{className:"mt-6 mb-8 flex justify-center",children:(0,w.jsx)(S,{steps:["Deposit: ".concat(d.name),"Deposit: ".concat(h.name),"Provide liquidity","Done"],step:H,loading:U.isLoading,coinFrom:d,coinTo:h})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-6 mb-4",children:(0,w.jsx)(x._,{coin:d,amount:Z,onChangeAmount:function(e){return F(e)},coins:t([d,h]),onChangeCoin:function(e){return I([e,h])}})}),(0,w.jsx)("div",{className:"mb-10",children:(0,w.jsx)(x._,{coin:h,amount:T,onChangeAmount:function(e){return B(e)},coins:t([d,h]),onChangeCoin:function(e){return I([d,e])}})}),P?(0,w.jsxs)("div",{className:"mt-3 ml-4 text-slate-400 decoration-1",style:{fontFamily:"monospace"},children:["Reserves",(0,w.jsx)("br",{}),"ETH:"," ",(0,p.formatUnits)(P.eth_reserve,j.cS).toString(),(0,w.jsx)("br",{}),"DAI:"," ",(0,p.formatUnits)(P.token_reserve,j.cS).toString(),c.O$.from(P.eth_reserve).gt(0)&&c.O$.from(P.token_reserve).gt(0)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("br",{}),"ETH/DAI:"," ",c.O$.from(j.$g).mul(P.eth_reserve).div(P.token_reserve).toNumber()/j.$g,(0,w.jsx)("br",{}),"DAI/ETH:"," ",c.O$.from(j.$g).mul(P.token_reserve).div(P.eth_reserve).toNumber()/j.$g]}):null]}):null,(0,w.jsx)("div",{onClick:function(){return U.mutate()},className:k,children:"Confirm"})]})]})})}}}]);
//# sourceMappingURL=286.049e9fbf.chunk.js.map