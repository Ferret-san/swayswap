"use strict";(self.webpackChunkswayswap_demo=self.webpackChunkswayswap_demo||[]).push([[889],{2584:function(e,n,t){t.d(n,{_:function(){return N}});var r=t(885),a=t(7283),s=t(1694),i=t.n(s),u=t(3580),o=t(2791),c=t(948),l=t(9478),d=t(6231),f=t.n(d),m=t(184),x="/swayswap",v="bg-[#20242A] rounded-2xl p-4 text-3xl border border-[#20242A] \n      flex justify-between",h="bg-transparent placeholder:text-[#B2B9D2] outline-none w-full text-2xl",p="flex1",w="absolute w-full mt-2 bg-[#191B1F] divide-gray-100 \n      rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10",b="flex justify-around rounded-md w-full px-2 py-2 text-sm cursor-pointer",g="w-full h-min flex justify-between items-center bg-[#2D2F36] \n      rounded-2xl text-xl font-medium p-2 mt-[-0.2rem] focus:outline-none",j="mx-2",y="px-1 py-1";function k(e){var n=e.value,t=e.coins,s=e.onChange,u=(0,o.useState)(null),c=(0,r.Z)(u,2),l=c[0],d=c[1],v=t&&t.length>1;(0,o.useEffect)((function(){if(!n)return d(null);d(n)}),[n]);var h=(0,o.useCallback)((function(e){d(e),null===s||void 0===s||s(e)}),[d,s]);return(0,m.jsx)("div",{className:p,children:(0,m.jsxs)(a.v2,{as:"div",className:"relative inline-block text-left",children:[(0,m.jsx)("div",{children:(0,m.jsx)(a.v2.Button,{className:i()({"cursor-default":!v}),children:(0,m.jsxs)("div",{className:i()(g,{"hover:bg-opacity-30":v}),children:[l&&l.img&&(0,m.jsx)("img",{className:"rounded-full border-none",src:f()(x,l.img),alt:"eth",height:24,width:24}),(0,m.jsx)("div",{className:j,children:null===l||void 0===l?void 0:l.name})]})})}),v&&(0,m.jsx)(a.uT,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,m.jsx)(a.v2.Items,{className:w,children:(0,m.jsx)("div",{className:y,children:t.map((function(e){return(0,m.jsx)(a.v2.Item,{children:function(n){var t=n.active;return(0,m.jsxs)("div",{className:i()(b,{"bg-[#2D2F36] text-white":t,"text-white":!t}),onClick:function(){return h(e)},children:[e&&e.img&&(0,m.jsx)("div",{className:"flex flex-wrap justify-center",children:(0,m.jsx)("div",{className:"w-6/12 px-4 sm:w-4/12",children:(0,m.jsx)("img",{className:"h-auto max-w-full rounded border-none align-middle shadow-lg",src:f()(x,e.img),alt:"eth",height:24,width:24})})}),(0,m.jsx)("div",{className:j,children:null===e||void 0===e?void 0:e.name})]})}},e.assetId)}))})})})]})})}function N(e){var n=e.amount,t=e.coin,r=e.coins,a=e.disabled,s=e.onChangeAmount,i=e.onChangeCoin,o=e.onInput;return(0,m.jsxs)("div",{className:v,children:[(0,m.jsx)("div",{className:"flex-1",children:(0,m.jsx)(c.Z,{placeholder:"0",decimalScale:l.cS,value:n&&(0,u.formatUnits)(n,l.cS),displayType:a?"text":"input",onValueChange:function(e){return null===s||void 0===s?void 0:s(""!==e.value?(0,u.parseUnits)(e.value,l.cS):null)},className:h,thousandSeparator:!1,onInput:o})}),(0,m.jsx)(k,{coins:r,value:t,onChange:i})]})}},5479:function(e,n,t){var r=t(9478),a=[{name:"ETH",assetId:"0x0000000000000000000000000000000000000000000000000000000000000000",img:"/icons/eth.svg"},{name:"DAI",assetId:r.Bb,img:"/icons/dai.svg"},{name:"SWAY",assetId:r.p_,img:"/icons/sway.svg"}];n.Z=a},5442:function(e,n,t){t.d(n,{_:function(){return a},x:function(){return r}});var r=function(e){return{value:e}},a=function(e){return new Promise((function(n){return setTimeout(n,e)}))}},9889:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(885),a=t(5861),s=t(7757),i=t.n(s),u=t(2791),o=t(5479),c=t(2584),l=t(8820),d=t(184),f="rounded-2xl font-semibold p-1 border border-[#20242A] bg-[#191B1F] border-4 rounded-2xl cursor-pointer";function m(e){var n=e.onClick;return(0,d.jsx)("div",{onClick:n,className:f,children:(0,d.jsx)(l.Duv,{size:32})})}var x=t(3246),v=t(6871),h=t(6861),p=t(1933),w=t(5442),b="w-screen flex flex-1 items-center justify-center mb-14",g="bg-[#191B1F] w-[30rem] rounded-2xl p-4 m-2",j="px-2 flex items-center justify-between font-semibold text-xl",y="bg-[#58c09b] my-2 rounded-2xl py-6 px-8 text-xl font-semibold flex items-center\n    justify-center cursor-pointer border border-[#58c09b] hover:border-[#234169] mt-8",k="flex items-center justify-center -my-3",N=function(){var e=(0,a.Z)(i().mark((function e(n,t,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.callStatic.get_swap_with_maximum(r,{forward:[0,t]});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),C=function(){var e=(0,a.Z)(i().mark((function e(n,t,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.callStatic.get_swap_with_minimum(r,{forward:[0,t]});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();function I(){var e=(0,x.cq)(),n=(0,u.useState)([o.Z[0],o.Z[1]]),t=(0,r.Z)(n,2),s=(0,r.Z)(t[0],2),l=s[0],f=s[1],I=t[1],_=function(e){return o.Z.filter((function(n){var t=n.assetId;return!e.find((function(e){return e.assetId===t}))}))},S=(0,u.useState)(null),Z=(0,r.Z)(S,2),A=Z[0],F=Z[1],B=(0,u.useState)(null),T=(0,r.Z)(B,2),D=T[0],E=T[1],q=(0,u.useState)(null),z=(0,r.Z)(q,2),O=z[0],P=z[1],U=(0,v.s0)(),H=(0,p.useQuery)(["SwapPage-inactiveAmount",O,D,A],(0,a.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("to"!==O){n.next=8;break}if(D){n.next=3;break}return n.abrupt("return",null);case 3:return n.next=5,N(e,l.assetId,D);case 5:case 13:return n.abrupt("return",n.sent);case 8:if("from"!==O){n.next=16;break}if(A){n.next=11;break}return n.abrupt("return",null);case 11:return n.next=13,C(e,l.assetId,A);case 16:return n.abrupt("return",null);case 17:case"end":return n.stop()}}),n)})))).data,M=(0,p.useMutation)((0,a.Z)(i().mark((function n(){var t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(A){n.next=2;break}throw new Error('"fromAmount" is required');case 2:if(D){n.next=4;break}throw new Error('"toAmount" is required');case 4:if(t=1e3,"to"!==O){n.next=13;break}return n.next=8,N(e,l.assetId,D);case 8:return r=n.sent,n.next=11,e.functions.swap_with_maximum(D,t,{forward:[r,l.assetId],variableOutputs:1});case 11:case 19:n.next=22;break;case 13:if("from"!==O){n.next=21;break}return n.next=16,C(e,l.assetId,A);case 16:return a=n.sent,n.next=19,e.functions.swap_with_minimum(a,t,{forward:[A,l.assetId],variableOutputs:1});case 21:throw new Error('Invalid mode "'.concat(O,'"'));case 22:return n.next=24,(0,w._)(1e3);case 24:case"end":return n.stop()}}),n)}))),{onSuccess:function(){U(h.i.wallet)}});return(0,d.jsx)("div",{className:b,children:(0,d.jsxs)("div",{className:g,children:[(0,d.jsxs)("div",{className:j,children:[(0,d.jsx)("h1",{children:"Swap"}),(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsx)(c._,{coin:l,amount:"from"===O?A:H,onInput:function(){return P("from")},onChangeAmount:function(e){"from"===O&&F(e)},coins:_([l,f]),onChangeCoin:function(e){return I([e,f])}})}),(0,d.jsx)("div",{className:k,children:(0,d.jsx)(m,{onClick:function(){var e=D;E(A),F(e),I([f,l])}})}),(0,d.jsx)("div",{className:"mb-10",children:(0,d.jsx)(c._,{coin:f,amount:"to"===O?D:H,onInput:function(){return P("to")},onChangeAmount:function(e){"to"===O&&E(e)},coins:_([l,f]),onChangeCoin:function(e){return I([l,e])}})}),(0,d.jsx)("div",{onClick:function(){return M.mutate()},className:y,children:"Confirm"})]})})}}}]);
//# sourceMappingURL=889.53d7bf01.chunk.js.map