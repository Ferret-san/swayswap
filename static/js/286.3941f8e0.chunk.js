"use strict";(self.webpackChunkswayswap_demo=self.webpackChunkswayswap_demo||[]).push([[286],{2584:function(e,n,t){t.d(n,{_:function(){return N}});var r=t(885),s=t(7283),i=t(1694),a=t.n(i),o=t(3580),l=t(2791),c=t(948),u=t(6231),d=t.n(u),m=t(184),f="/swayswap",x="bg-[#20242A] rounded-2xl p-4 text-3xl border border-[#20242A] \n      flex justify-between",h="bg-transparent placeholder:text-[#B2B9D2] outline-none w-full text-2xl",v="flex1",p="absolute w-full mt-2 bg-[#191B1F] divide-gray-100 \n      rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10",g="flex justify-around rounded-md w-full px-2 py-2 text-sm cursor-pointer",b="w-full h-min flex justify-between items-center bg-[#2D2F36] \n      rounded-2xl text-xl font-medium p-2 mt-[-0.2rem] focus:outline-none",j="mx-2",w="px-1 py-1";function y(e){var n=e.value,t=e.coins,i=e.onChange,o=(0,l.useState)(null),c=(0,r.Z)(o,2),u=c[0],x=c[1],h=t&&t.length>1;(0,l.useEffect)((function(){if(!n)return x(null);x(n)}),[n]);var y=(0,l.useCallback)((function(e){x(e),null===i||void 0===i||i(e)}),[x,i]);return(0,m.jsx)("div",{className:v,children:(0,m.jsxs)(s.v2,{as:"div",className:"relative inline-block text-left",children:[(0,m.jsx)("div",{children:(0,m.jsx)(s.v2.Button,{className:a()({"cursor-default":!h}),children:(0,m.jsxs)("div",{className:a()(b,{"hover:bg-opacity-30":h}),children:[u&&u.img&&(0,m.jsx)("img",{className:"rounded-full border-none",src:d()(f,u.img),alt:"eth",height:24,width:24}),(0,m.jsx)("div",{className:j,children:null===u||void 0===u?void 0:u.name})]})})}),h&&(0,m.jsx)(s.uT,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,m.jsx)(s.v2.Items,{className:p,children:(0,m.jsx)("div",{className:w,children:t.map((function(e){return(0,m.jsx)(s.v2.Item,{children:function(n){var t=n.active;return(0,m.jsxs)("div",{className:a()(g,{"bg-[#2D2F36] text-white":t,"text-white":!t}),onClick:function(){return y(e)},children:[e&&e.img&&(0,m.jsx)("div",{className:"flex flex-wrap justify-center",children:(0,m.jsx)("div",{className:"w-6/12 px-4 sm:w-4/12",children:(0,m.jsx)("img",{className:"h-auto max-w-full rounded border-none align-middle shadow-lg",src:d()(f,e.img),alt:"eth",height:24,width:24})})}),(0,m.jsx)("div",{className:j,children:null===e||void 0===e?void 0:e.name})]})}},e.assetId)}))})})})]})})}function N(e){var n=e.amount,t=e.coin,r=e.coins,s=e.disabled,i=e.onChangeAmount,a=e.onChangeCoin,l=e.onInput;return(0,m.jsxs)("div",{className:x,children:[(0,m.jsx)("div",{className:"flex-1",children:(0,m.jsx)(c.Z,{placeholder:"0.0",value:n&&(0,o.formatUnits)(n,9),displayType:s?"text":"input",onValueChange:function(e){return null===i||void 0===i?void 0:i((0,o.parseUnits)(e.value,9))},className:h,thousandSeparator:!1,onInput:l})}),(0,m.jsx)(y,{coins:r,value:t,onChange:a})]})}},9385:function(e,n,t){t.d(n,{$:function(){return s}});var r=t(184);function s(){return(0,r.jsxs)("svg",{className:"-ml-1 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},5479:function(e,n,t){var r=t(9478),s=[{name:"ETH",assetId:"0x0000000000000000000000000000000000000000000000000000000000000000",img:"/icons/eth.svg"},{name:"DAI",assetId:r.Bb,img:"/icons/dai.svg"},{name:"SWAY",assetId:r.p_,img:"/icons/sway.svg"}];n.Z=s},286:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(5861),s=t(885),i=t(7757),a=t.n(i),o=t(1694),l=t.n(o),c=t(971),u=t(2791),d=t(7425),m=t(3246),f=t(5479),x=t(2584),h=t(9385),v=t(6871),p=t(6861),g=t(3580),b=t(184),j="w-screen flex flex-1 items-center justify-center mb-14",w="bg-[#191B1F] w-[40rem] rounded-2xl p-4",y="px-2 flex items-center justify-between font-semibold text-xl",N="bg-[#58c09b] my-2 rounded-2xl py-6 px-8 text-xl font-semibold flex items-center\n    justify-center cursor-pointer border border-[#58c09b] hover:border-[#234169] mt-8";function C(e){var n=e.loading,t=e.step,r=e.steps;return(0,b.jsx)("ul",{className:"w-full rounded-lg border border-[#2b3039] text-gray-900",children:r.map((function(e,s){return(0,b.jsxs)("li",{className:l()("space-between flex w-full items-center border-b border-[#2b3039] px-6 py-2 text-white",{"rounded-t-lg":0===s,"bg-[#58c09a]":t===s&&n,"rounded-b-lg":s===r.length}),children:[(0,b.jsx)("div",{className:"flex-1",children:e}),t===s&&n&&(0,b.jsx)(h.$,{}),t>s&&(0,b.jsx)(d.xuy,{})]},s)}))})}function k(){var e=(0,m.cq)(),n=(0,v.s0)(),t=function(e){return f.Z.filter((function(n){var t=n.assetId;return!e.find((function(e){return e.assetId===t}))}))},i=(0,u.useState)([f.Z[0],f.Z[1]]),o=(0,s.Z)(i,2),l=(0,s.Z)(o[0],2),d=l[0],h=l[1],k=o[1],I=(0,u.useState)(null),_=(0,s.Z)(I,2),Z=_[0],A=_[1],S=(0,u.useState)(null),B=(0,s.Z)(S,2),F=B[0],D=B[1],T=(0,u.useState)(0),E=(0,s.Z)(T,2),q=E[0],H=E[1],U=(0,u.useState)(!1),z=(0,s.Z)(U,2),P=z[0],V=z[1],W=(0,u.useState)(null),$=(0,s.Z)(W,2),M=$[0],O=$[1];(0,u.useEffect)((function(){(0,r.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.callStatic.get_info();case 2:t=n.sent,O(t);case 4:case"end":return n.stop()}}),n)})))()}),[e]);var R=function(){var t=(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Z){t.next=2;break}throw new Error('"fromAmount" is required');case 2:if(F){t.next=4;break}throw new Error('"toAmount" is required');case 4:return V(!0),H(1),t.next=8,e.functions.deposit({forward:[Z,d.assetId]});case 8:return H(2),t.next=11,e.functions.deposit({forward:[F,h.assetId]});case 11:return H(3),t.next=14,e.functions.add_liquidity(1,F,1e3,{variableOutputs:1});case 14:H(0),V(!1),n(p.i.assets);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,b.jsx)("div",{className:j,children:(0,b.jsxs)("div",{className:w,children:[(0,b.jsx)("div",{className:y,children:(0,b.jsx)("h1",{children:"Pool"})}),P?(0,b.jsx)("div",{className:"mt-6 mb-8 flex justify-center",children:(0,b.jsx)(C,{steps:["Deposit: ".concat(d.name),"Deposit: ".concat(h.name),"Provide liquidity","Done"],step:q,loading:P,coinFrom:d,coinTo:h})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mt-6 mb-4",children:(0,b.jsx)(x._,{coin:d,amount:Z,onChangeAmount:function(e){return A(e)},coins:t([d,h]),onChangeCoin:function(e){return k([e,h])}})}),(0,b.jsx)("div",{className:"mb-10",children:(0,b.jsx)(x._,{coin:h,amount:F,onChangeAmount:function(e){return D(e)},coins:t([d,h]),onChangeCoin:function(e){return k([d,e])}})}),M?(0,b.jsxs)("div",{className:"mt-3 ml-4 text-slate-400 decoration-1",style:{fontFamily:"monospace"},children:["Reserves",(0,b.jsx)("br",{}),"ETH: ",(0,g.formatUnits)(M.eth_reserve,9).toString(),(0,b.jsx)("br",{}),"DAI: ",(0,g.formatUnits)(M.token_reserve,9).toString(),c.BigNumber.from(M.eth_reserve).gt(0)&&c.BigNumber.from(M.token_reserve).gt(0)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("br",{}),"ETH/DAI:"," ",c.BigNumber.from(1e3).mul(M.eth_reserve).div(M.token_reserve).toNumber()/1e3,(0,b.jsx)("br",{}),"DAI/ETH:"," ",c.BigNumber.from(1e3).mul(M.token_reserve).div(M.eth_reserve).toNumber()/1e3]}):null]}):null,(0,b.jsx)("div",{onClick:function(e){return R()},className:N,children:"Confirm"})]})]})})}}}]);
//# sourceMappingURL=286.3941f8e0.chunk.js.map